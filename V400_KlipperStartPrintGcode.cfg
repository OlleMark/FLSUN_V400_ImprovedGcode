  #This code should be added to either the printer.cfg file or macros.cfg file depending on your setup 
  
[gcode_macro START_PRINT] 
gcode: 
  {% set BED_TEMP = params.BED_TEMP|default(60)|float %}
  {% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(200)|float %}
  SET_PIN PIN=LED_pin VALUE=0 #Disable light
  G21 #Set units to millimeters
  G90 #Enable absolute mode
  M82 #This command is used to override G91 and put the E axis into absolute mode independent of the other axes. G90 and G91 clear this mode.
  M107 T0 #Turn off one of the fans.
  M140 S{BED_TEMP|float*0.85} #Set a new target temperature for the heated bed and continue. 85% of desired bed temp
  G28 #Home printer
  G1 X-150 Z50 #Move down Z and to the side to reduce any filament to drop in the middle44
  M190 S{BED_TEMP|float*0.85} #Wait for bed to reach 85% temp
  M104 S{EXTRUDER_TEMP} T0 #Set a new target extruder temp and continue without waiting.
  SET_PIN PIN=LED_pin VALUE=1 #Enable light
  M190 S{BED_TEMP} #Wait for bed to reach full temp.
  M109 S{EXTRUDER_TEMP} #Wait for extruder to reach full temp.
  BED_MESH_PROFILE LOAD=default #Load bed mesh
  G1 F3000 X-70 Y-130 Z0.4 #Move to position for first purge
  G92 E0 #Set next extruder position
  G1 X0 Y-150 Z0.4 E30 F2000 #print in a straight line
  G1 X0 Y-149 Z0.4 E30 F2000 #print in a straight line
  G1 X-71 Y-130 Z0.4 E30 F2000 #print in a straight line
  G92 E0 #Set next extruder position